<HTML>
<HEADER>
<TITLE>
MGI EDITING INTERFACE - Overview
</TITLE>
</HEADER>

<BODY BGCOLOR="#FFFFFF">

<H2>
MGI EDITING INTERFACE - Overview
</H2>

<H4>Purpose</H4>
This document provides a technical overview on the implementation of the
MGI Editing Interface Applications, MGD, GXD, MGI Admin.  
For more in-depth explanations of TeleUSE, XRT PDS and X concepts, refer to the 
appropriate documentation manuals.

<H4>Table of Contents</H4>
<OL>
<LI><A HREF="#pcds">TeleUSE Presentation Components</A>
<LI><A HREF="#dmodules">TeleUSE Dialog Components</A>
<LI><A HREF="#cmodules">TeleUSE C Components</A>
<LI><A HREF="#config">Configuration</A>
</OL>
 
<HR>
<A NAME="pcds"><H4>TeleUSE Presentation Components (templates)</H4></A>
TeleUSE provides a visual interface program call <CODE>vip</CODE> which allows you 
to build an interface using OSF/Motif, X Toolkit Instrinsics and XRT PDS widget sets.
<P>
<CODE>vip</CODE> provides the capability to create templates of widgets and
widget hierarchies which can be used repeatedly throughout the user interface.
You can set the values of the widget attributes and create user-defined attributes
(UDA) to further customize the interface.
<P>
For more information, refer to the TeleUSE Implementing Presentation Components manual.
<P>
Presentation components (templates) are generated by <CODE>vip</CODE> and
stored in UNIX files with the extension <CODE>.pcd</CODE>
in <CODE>$source_directory/pcds</CODE>.
<P>
Always execute <CODE>vip</CODE> from the <CODE>$source_directory/$application</CODE> directory.
Refer to <A HREF="#applconfig">Application Configuration Files</A> for more information on <CODE>vip</CODE>
and its configuration file <CODE>.viprc</CODE>.
<P>
The current set of PCDS for the EI GUI:
<TABLE BORDER=1>
<TR ALIGN=left><TH>PCD file<TH>Description
<TR><TD>MGI.pcd
	<TD>defines application templates such as Login, Module, EditForm.
<TR><TD>mgiMenu.pcd
	<TD>defines the Main Menu bar of each Module.  This includes File, View,
	   Commands, Edit, Help.
<TR><TD>MGD.pcd
	<TD>defines MGD application interfaces such as Reference, Marker.
<TR><TD>GXD.pcd
	<TD>defines GXD application interfaces such as Assay, Antibody.
<TR><TD>MGIAdmin.pcd
	<TD>defines the MGI Administrative interface.
<TR><TD>mgiAnatDictionary.pcd
	<TD>defines the GXD Anatomical Dictionary interface.
<TR><TD>mgiControl.pcd
	<TD>defines the Control area of each Module.  The Control area contains
	   the Search, Add, Modify, Delete buttons, the Creation and Modification
	   date, Record Count, etc.
<TR><TD>mgiCV.pcd
	<TD>defines the Controlled Vocabulary area of each GXD.  The CV area contains
	   subsets of controlled vocabulary pulldowns for GXD InSitu and Gel tables.
<TR><TD>mgiDataTypes.pcd
	<TD>defines basic data entry field types.
<TR><TD>mgiDialog.pcd
	<TD>defines Dialog templates such as StatusDialog, DeleteDialog.
<TR><TD>mgiLookup.pcd
	<TD>defines Lookup List templates.  Lookup Lists are selection lists
	   of controlled vocabulary used when the number of items is greater
	   than 20.  The selection lists can be dynamically loaded at runtime.
<TR><TD>mgiMenu.pcd
	<TD>defines appliation templates for the a main module.
<TR><TD>mgiNoteBook.pcd
	<TD>defines notebook tabs.
<TR><TD>mgiOption.pcd
	<TD>defines Option Menu templates.  Option Menus are selection lists for
	   controlled vocabulary used when the number of items is less than or
	   equal to 20.  The selection items can be dynamically created at
	   runtime.
<TR><TD>mgiTable.pcd
	<TD>defines several Table templates derived from XRT/table.
</TABLE>

<HR>
<A NAME="dmodules"><H4>TeleUSE Dialog Components</H4></A>
For every module (PCD file) in an interface, at least one Dialog Component
is created to implement the callbacks in the interface module.  TeleUSE
provides a language called <CODE>D</CODE> with which to create the
Dialog Components.
<P>
For more information, refer to the TeleUSE Developoing Dialog Components manual.
<P>
Dialog components are stored in UNIX files with the extension <CODE>.d</CODE>
or <CODE>.de</CODE> (depending on the scope of the event) 
in <CODE>$source_directory/dsrc</CODE>.
<P>
In the MGI GUI, there are two types of D modules:
<OL>
<LI>Library modules define D events which are reused throughout the interface.
    Library modules often have a header file associated with them (<CODE>.de</CODE>)
    which contains the D event declarations for the D events defined in the
    corresponding <CODE>.d</CODE> file.
<P>
<LI>Form modules correspond to a specific Module (ex. Reference or Marker) and
    define local D events for the Form.  Form modules can call D events which
    are defined in Library modules and within the form module itself.
</OL>
<P>
The current set of Library Dialog Components for the MGI GUI:
<TABLE BORDER=1>
<TR ALIGN=left><TH>Source file<TH>Description
<TR><TD>AccLib.d/AccLib.de
	<TD>Interaction with Accession Numbers
<TR><TD>DictionaryLib.d/DictionaryLib.de
	<TD>Interaction with GXD Anatomical Dictionary Clipboard
<TR><TD>DynamicLib.d/DynamicLib.de
	<TD>Dynamic building of interface components (ex. Option Menus)
<TR><TD>Lib.d/Lib.de
	<TD>General functionality (ex. clearing forms, printing, exiting)
<TR><TD>List.d/List.de
	<TD>Interaction with Lookup Lists
<TR><TD>MGILib.d/MGILib.de
	<TD>Application login and initialization
<TR><TD>MolSourceLib.d/MolSourceLib.de
	<TD>Interaction with Molecular Source Form
<TR><TD>Note.d
	<TD>Interaction with NoteDialog
<TR><TD>Report.d
	<TD>Interaction with ReportDialog
<TR><TD>SQL.d/SQL.de
	<TD>Interaction with Postgres Server (ex. querying, adding, modifying)
<TR><TD>Table.d/Table.de
	<TD>Interaction with XRT/table widget
<TR><TD>Verify.d/Verify.de
	<TD>Verification routines (ex. verifying Marker symbol, Reference, etc.)
</TABLE>
<P>
The current set of Form Components for the MGD Application:
<TABLE BORDER=1>
<TR ALIGN=left><TH>Source file<TH>Corresponding PCD component
<TR><TD>Allele.d
	<TD>MGD.pcd:AlleleModule
<TR><TD>Cross.d
	<TD>MGD.pcd:CrossModule
<TR><TD>Homology.d
	<TD>MGD.pcd:HomologyModule
<TR><TD>MarkerNonMouse.d
	<TD>MGD.pcd:MarkerNonMouseModule
<TR><TD>ControlledVocab.d
	<TD>MGI.pcd:ControlledVocabModule
<TR><TD>MGD.d
	<TD>MGD.pcd:MGD
<TR><TD>MLCED.d
	<TD>MGD.pcd:MLCModule
<TR><TD>MLDP.d
	<TD>MGD.pcd:MLDPModule
<TR><TD>Marker.d
	<TD>MGD.pcd:MarkerModule
<TR><TD>Molecular.d
	<TD>MGD.pcd:MolecularSegmentModule
<TR><TD>MolecularSource.d
	<TD>MGD.pcd:MolecularSourceModule
<TR><TD>RI.d
	<TD>MGD.pcd:RISetModule
<TR><TD>Reference.d
	<TD>MGD.pcd:ReferenceModule
<TR><TD>Species.d
	<TD>MGD.pcd:SpeciesModule
<TR><TD>Strains.d
	<TD>MGD.pcd:StrainModule
<TR><TD>Tissues.d
	<TD>MGD.pcd:TissueModule
</TABLE>
<P>
The current set of Form Components for the GXD Application:
<TABLE BORDER=1>
<TR ALIGN=left><TH>Source file<TH>Corresponding PCD component
<TR><TD>Antibody.d
	<TD>GXD.pcd:AntibodyModule
<TR><TD>Antigen.d
	<TD>GXD.pcd:AntigenModule
<TR><TD>Assay.d
	<TD>GXD.pcd:AssayModule
<TR><TD>Dictionary.d
	<TD>gxdDictionary.pcd:DictionaryModule
<TR><TD>GXD.d
	<TD>GXD.pcd:GXD
<TR><TD>Genotype.d
	<TD>mgiDialog.pcd:GenotypeDialog
<TR><TD>Image.d
	<TD>GXD.pcd:ImageModule
<TR><TD>InSituResult.d
	<TD>mgiDialog.pcd:InSituResultDialog
<TR><TD>IndexStage.d
	<TD>GXD.pcd:IndexStageModule
<TR><TD>ControlledVocab.d
	<TD>MGI.pcd:ControlledVocab
</TABLE>
<P>
The current set of Form Components for the MGI Admin Application:
<TABLE BORDER=1>
<TR ALIGN=left><TH>Source file<TH>Corresponding PCD component
<TR><TD>ActualLogical.d
	<TD>MGIAdmin.pcd:ActualLogicalModule
<TR><TD>MGIAdmin.d
	<TD>MGIAdmin.pcd:MGIAdmin
<TR><TD>MGDTables.d
	<TD>MGIAdmin.pcd:TablesColumnsModule
</TABLE>
<P>

<HR>
<A NAME="cmodules"><H4>TeleUSE C Components</H4></A>
From within a D module, you can call C routines.  C routines are used in cases
where the D language is insufficient and to provide wrappers to
the Postgres DB-Library API, XRT/table routines, etc.  C library routines such
as <CODE>strcmp</CODE>, <CODE>getenv</CODE>, etc. can also be called from within
D modules.
<P>
For each function which is called, an entry must exist in an Application Interface
Mapping (AIM) file.  AIM files contain declarations for application or library
routines that are to be called from within D and provide information to the
D language compiler.
<P>
C components are stored in UNIX files with the extension <CODE>.c</CODE>
in <CODE>$source_directory/csrc</CODE>.
<P>
C include files are stored in UNIX files with the extension <CODE>.h</CODE>
in <CODE>$source_directory/include</CODE>.
<P>
TeleUSE AIM files are stored in UNIX files with the extension <CODE>.aim</CODE>
in <CODE>$source_directory/aim</CODE>.
<P>
The current set of C Source files for the EI Application:
<TABLE BORDER=1>
<TR ALIGN=left><TH>Source file<TH>Description
<TR><TD>gxdsql.c
	<TD>GXD SQL funcaitons
<TR><TD>mgdsql.c
	<TD>MGD SQL funcaitons
<TR><TD>mgilib.c
	<TD>General routines for construction of SQL statements for MGI database tables
<TR><TD>pglib.c
	<TD>Wrappers to Postgres DB-Library routines.
<TR><TD>tables.c
	<TD>Wrappers to XRT/table library routines.
<TR><TD>utilities.c
	<TD>General utility routines.
<TR><TD>xrt_conv.c
	<TD>Register converters for XRT; Tech support fix; see source for details
</TABLE>
<P>
The current set of C Include files for the EI Application:
<TABLE BORDER=1>
<TR ALIGN=left><TH>Source file<TH>Description
<TR><TD>gxdsql.h
	<TD>GXD SQL funcaitons
<TR><TD>mgdsql.h
	<TD>MGD SQL funcaitons
<TR><TD>mgilib.h
	<TD>General routines for construction SQL statements for MGI database tables
<TR><TD>pglib.h
	<TD>Wrappers to Postgres DB-Library routines.
<TR><TD>tables.h
	<TD>Wrappers to XRT/PDS library routines.
<TR><TD>utilities.h
	<TD>General utility routines.
</TABLE>
<P>
The current set of AIM files for the EI Application:
<TABLE BORDER=1>
<TR ALIGN=left><TH>Source file<TH>Description
<OL>
<TR><TD>gxdsql.aim
	<TD>GXD SQL funcaitons
<TR><TD>mgdsql.aim
	<TD>MGD SQL funcaitons
<TR><TD>mgilib.aim
	<TD>General routines for construction SQL statements for MGI database tables
<TR><TD>postgres.aim
	<TD>Postgres DB-Library routines.
<TR><TD>tables.aim
	<TD>XRT/PDS library routines.
<TR><TD>utilities.aim
	<TD>General utility routines.
<TR><TD>xrt.aim
	<TD>XRT/PDS library routines.
</TABLE>
<P>

<HR>
<A NAME="config"><H4>Configuration</H4></A>
The Git source for all versions of GUI applications is available
through the Git module alias "ei". 
<P>
The source root directory is sub-divided into several subdirectories.  
<P>
<TABLE BORDER=1>
<TR ALIGN=left><TH>Sub-Directory<TH>Description
<TR><TD>aim
    <TD><A HREF="#cmodules">Application Interface Mapping files</A>
<TR><TD>csrc
    <TD><A HREF="#cmodules">Application C Source Files</A>
<TR><TD>dsrc
    <TD><A HREF="#dmodules">Application Dialog Source Files</A>
<TR><TD>include
    <TD>Header files for <A HREF="#cmodules">Application C Source Files</A>
<TR><TD>pcds
    <TD><A HREF="#pcds">Presentation Components</A>
<TR><TD>reports
    <TD>EI report source files
<TR><TD>utilities
    <TD>Utility source files (see <A HREF="MEI/MEIUtilities.html">MGI Editorial Utilities</A>)
<TR><TD>gxd
    <TD><CODE>$application</CODE> directory for the GXD application.
	This is where the <A HREF="#applconfig">application configuration files</A> reside.
<TR><TD>mgd
    <TD><CODE>$application</CODE> directory for the MGD application.
	This is where the <A HREF="#applconfig">application configuration files</A> reside.
<TR><TD>mgi
    <TD><CODE>$application</CODE> directory for the MGI Menu application.
	This is where the <A HREF="#applconfig">application configuration files</A> reside.
<TR><TD>mgiadmin
    <TD><CODE>$application</CODE> directory for the MGI Admin application.
	This is where the <A HREF="#applconfig">application configuration files</A> reside.
</TABLE>


# 
# Makefile generated by TeleUSE 'uxb' tool
# File: 'Makefile' generated: Thu Jan 12 09:13:50 2017
# Target: linux
# 

BIN = $$TeleUSE/bin
GUID = $(BIN)/uxb_guid
GMAIN = $(BIN)/uxb_gmain
SC_RETURN = $(BIN)/uxb_scret -v
SC_INIT = $(BIN)/uxb_scinit -v
SC_LIST = $(BIN)/uxb_sclst
SC_UPDATE = $(BIN)/uxb_scupd
CPP = /lib/cpp -I/usr/X11R6/include
MAKE = make
CC = gcc -DUSE_MOTIF2_0 -I/usr/X11R6/include
UIL = /usr/bin/uil
CPLUSPLUS = c++ -I/usr/X11R6/include
CFLAGS =
RM = rm -f
AR = ar
MV = mv
RANLIB = ranlib
GCOMP = $(BIN)/uxb_gcomp
CP = cp
DLC = $(BIN)/dlc
FLG = $(BIN)/dl_flg -real_stubs
GUINIT = $(BIN)/uxb_guinit
SHELL = /bin/sh
TOUCH = touch
CCFLAGS =

CSOURCE = \
 ../csrc/xrt_conv.c  ../csrc/pglib.c     ../csrc/utilities.c 

INCLUDES = -I$$TeleUSE/include -I$$POSTGRES_HOME/include \
  -I$$XRTHOME/include -I../include -I$$XRTHOME/src/tools

D_INCLUDES = -I$$XRTHOME/include -I$$POSTGRES_HOME/include \
  -I$$TeleUSE/include -I../include

LIBS = $$TeleUSE/lib/xm_c.o -L$$TeleUSE/lib -ld_wr -ld -lpcd \
  -lXtwit -lXmwit $$TeleUSE/lib/libXrtwit.a -lteleuse \
  -L$$XRTHOME/lib -lxrtfield -lxrtgear -lxrtm -lxrt3d -lxrttable \
  -lxrtgauge -lpdsutil -lXpm -lMrm -Xlinker -Bdynamic -lXm -lXt \
  -lXext -lX11 -lSM -lICE -lm

STD_AIM = -Auflib -Axt_c -Axm_c -Afork

AIM_FILES = \
 ../aim/postgres.aim  ../aim/utilities.aim 

D_DEPENDENCIES =  $(AIM_FILES)

all: interpreted_d mgi MGI user-post
	@echo uxb done

user-post:
	@$(MAKE) -f ${XRTMAKE} xrt_auth

xrt_conv.o: ../csrc/xrt_conv.c
	@echo "C-compiling '../csrc/xrt_conv.c'"
	@$(CC) -c  $(CFLAGS) -g -I. $(INCLUDES) ../csrc/xrt_conv.c

pglib.o: ../csrc/pglib.c
	@echo "C-compiling '../csrc/pglib.c'"
	@$(CC) -c  $(CFLAGS) -g -I. $(INCLUDES) ../csrc/pglib.c

utilities.o: ../csrc/utilities.c
	@echo "C-compiling '../csrc/utilities.c'"
	@$(CC) -c  $(CFLAGS) -g -I. $(INCLUDES) ../csrc/utilities.c

MGIMenu.do: $(D_DEPENDENCIES) ../dsrc/MGIMenu.d
	@echo "Compiling interpreted module '../dsrc/MGIMenu.d' d->do"
	@$(DLC) -do -debug -p $(D_INCLUDES) $(D_DEPENDENCIES) $(STD_AIM) ../dsrc/MGIMenu.d

uxb_flg.c: $(AIM_FILES)
	@echo "Generating function list file 'uxb_flg.c'"
	@$(FLG) -func uxb_mainc_declare_fl -o uxb_flg.c $(AIM_FILES)

uxb_flg.o: uxb_flg.c
	@echo "Compiling function list file 'uxb_flg.c'"
	@$(CC) -c  $(CFLAGS) -I. $(INCLUDES) uxb_flg.c

uxb_mainc.c: uxb_mainc.arg
	@echo "Generating C component file 'uxb_mainc.c'"
	@$(GCOMP) -conf uxb_mainc.arg -o uxb_mainc.c

uxb_mainc.o: uxb_mainc.c
	@echo "Compiling C component file 'uxb_mainc.c'"
	@$(CC) -c  $(CFLAGS) -I. $(INCLUDES) uxb_mainc.c

uxb_main.c: uxb_main.arg
	@echo "Generating C main file 'uxb_main.c'"
	@$(GMAIN) -conf uxb_main.arg -o uxb_main.c

uxb_main.o: uxb_main.c
	@echo "Compiling C main file 'uxb_main.c'"
	@$(CC) -c  $(CFLAGS) -g -I. $(INCLUDES) uxb_main.c

XRES_FILES = \
 ../XRes.in 

MGI: $(XRES_FILES)
	@echo "Generating X resource file 'MGI'"
	@$(RM) MGI
	@cat $(XRES_FILES) > MGI

APPL_LIBS = \
 $$TeleUSE/lib/libhelp.a -L$(XRTHOME)/src/tools \
 -ltools                -lm \
 -L$${POSTGRES_HOME}/lib -lpq 

D_OBJECTS = \
 uxb_flg.o 

APPL_OBJECTS = \
 xrt_conv.o  pglib.o     utilities.o 

GEN_OBJECTS = \
 uxb_mainc.o uxb_main.o  

mgi: $(D_OBJECTS) $(APPL_OBJECTS) $(GEN_OBJECTS)
	@echo Building executable file
	@$(CC) -g -o mgi $(GEN_OBJECTS) $(D_OBJECTS) $(APPL_OBJECTS) $(APPL_LIBS) $(LIBS)
	@echo "Executable 'mgi' made"


INTERPRETED_D = \
 MGIMenu.do 

interpreted_d: $(INTERPRETED_D)

clean::
	@$(RM) Makefile
	@$(RM) xrt_conv.o
	@$(RM) pglib.o
	@$(RM) utilities.o
	@$(RM) uxb_flg.c
	@$(RM) uxb_flg.o
	@$(RM) uxb_mainc.c
	@$(RM) uxb_mainc.arg
	@$(RM) uxb_mainc.o
	@$(RM) uxb_main.c
	@$(RM) uxb_main.arg
	@$(RM) uxb_main.o
	@$(MAKE) -f ${XRTMAKE} clean

delete:: clean
	@$(RM) MGIMenu.do
	@$(RM) mgi.ui
	@$(RM) MGI
	@$(RM) mgi
	@$(MAKE) -f ${XRTMAKE} delete


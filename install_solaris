#!/bin/csh -f

#
# Installs all EI apps as compiled applications
#
# Usage: install_solaris
#
# Output: install_solaris.log
#

source ./Configuration

setenv LOG $0.log
rm -f $LOG

foreach app ($EIAPPS)

echo "INSTALLING $app"
setenv EIAPP $app

# create the application directory if it isn't already there

if ( ! -d ${EIINSTALLDIR}/${EIAPP} ) then
	mkdir -p ${EIINSTALLDIR}/${EIAPP}
endif

date > ${LOG}

#
# uxb.conf is assumed...
#

cd ${EIAPP}
uxb uxb_solaris.conf clean >>& ${LOG}
rm -rf *.o *.c *.do *.ui cderes* ${EIAPP} *.log install_linux_dev >>& ${LOG}
uxb uxb_solaris.conf -dmode compiled -destdir ${EIINSTALLDIR}/${EIAPP} install >>& ${LOG}
cd ..

#
# Copy main files to installation directory
#

rm -rf ${EIINSTALLDIR}/Configuration
rm -rf  ${EIINSTALLDIR}/runapp
cp Configuration ${EIINSTALLDIR}
cp runapp ${EIINSTALLDIR}

date >> ${LOG}

end

